<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
    <title>Linux 基本操作 | PrintXHL | 我就想做一点微小的工作</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#2361b6">
    
    
    <meta name="keywords" content="linux">
    <meta name="description" content="用过的一些命令1234567891011# 复制时，使用日期名作为文件名cp direct.log direct.log.$(date +%Y%m%d)# 将后台运行程序的打印记录立即输出到nohup.out文件nohup python -u spider.py &amp;gt; nohup.out 2&amp;gt;&amp;amp;1 &amp;amp;# 交换空间扩容dd if=/dev/zero of=/home/swa">
<meta name="keywords" content="linux">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux 基本操作">
<meta property="og:url" content="http://printxhl.com/2018/05/30/Linux-Base/index.html">
<meta property="og:site_name" content="PrintXHL">
<meta property="og:description" content="用过的一些命令1234567891011# 复制时，使用日期名作为文件名cp direct.log direct.log.$(date +%Y%m%d)# 将后台运行程序的打印记录立即输出到nohup.out文件nohup python -u spider.py &amp;gt; nohup.out 2&amp;gt;&amp;amp;1 &amp;amp;# 交换空间扩容dd if=/dev/zero of=/home/swa">
<meta property="og:image" content="http://oj8vattcf.bkt.clouddn.com/%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B%E5%92%8C%E6%9D%83%E9%99%90.png">
<meta property="og:updated_time" content="2018-06-20T00:26:56.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Linux 基本操作">
<meta name="twitter:description" content="用过的一些命令1234567891011# 复制时，使用日期名作为文件名cp direct.log direct.log.$(date +%Y%m%d)# 将后台运行程序的打印记录立即输出到nohup.out文件nohup python -u spider.py &amp;gt; nohup.out 2&amp;gt;&amp;amp;1 &amp;amp;# 交换空间扩容dd if=/dev/zero of=/home/swa">
<meta name="twitter:image" content="http://oj8vattcf.bkt.clouddn.com/%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B%E5%92%8C%E6%9D%83%E9%99%90.png">
    
        <link rel="alternate" type="application/atom+xml" title="PrintXHL" href="/atom.xml">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="/css/style.css?v=1.6.13">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">谢海练</h5>
          <a href="mailto:xiehailian66@126.com" title="xiehailian66@126.com" class="mail">xiehailian66@126.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                Home
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/python"  >
                <i class="icon icon-lg icon-code"></i>
                Python
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/data"  >
                <i class="icon icon-lg icon-database"></i>
                Data
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/book"  >
                <i class="icon icon-lg icon-book"></i>
                Book
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/xiehailian" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">Linux 基本操作</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">Linux 基本操作</h1>
        <h5 class="subtitle">
            
                <time datetime="2018-05-30T06:55:03.128Z" itemprop="datePublished" class="page-time">
  2018-05-30
</time>


            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#用过的一些命令"><span class="post-toc-number">1.</span> <span class="post-toc-text">用过的一些命令</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Linux-用户管理"><span class="post-toc-number">2.</span> <span class="post-toc-text">Linux 用户管理</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#查看用户"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">查看用户</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#创建用户"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">创建用户</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#用户组"><span class="post-toc-number">2.3.</span> <span class="post-toc-text">用户组</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#删除用户"><span class="post-toc-number">2.4.</span> <span class="post-toc-text">删除用户</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Linux-文件权限"><span class="post-toc-number">3.</span> <span class="post-toc-text">Linux 文件权限</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#查看文件权限"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">查看文件权限</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#变更文件所有者"><span class="post-toc-number">3.2.</span> <span class="post-toc-text">变更文件所有者</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#修改文件权限"><span class="post-toc-number">3.3.</span> <span class="post-toc-text">修改文件权限</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Linux-目录结构"><span class="post-toc-number">4.</span> <span class="post-toc-text">Linux 目录结构</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Linux-文件的基本操作"><span class="post-toc-number">5.</span> <span class="post-toc-text">Linux 文件的基本操作</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#环境变量"><span class="post-toc-number">6.</span> <span class="post-toc-text">环境变量</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#变量分类"><span class="post-toc-number">6.1.</span> <span class="post-toc-text">变量分类</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#环境变量操作"><span class="post-toc-number">6.2.</span> <span class="post-toc-text">环境变量操作</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#搜索文件"><span class="post-toc-number">7.</span> <span class="post-toc-text">搜索文件</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#文件打包与解压缩"><span class="post-toc-number">8.</span> <span class="post-toc-text">文件打包与解压缩</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#文件系统操作"><span class="post-toc-number">9.</span> <span class="post-toc-text">文件系统操作</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#使用df命令查看磁盘的容量"><span class="post-toc-number">9.1.</span> <span class="post-toc-text">使用df命令查看磁盘的容量</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#使用du命令查看目录的容量"><span class="post-toc-number">9.2.</span> <span class="post-toc-text">使用du命令查看目录的容量</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#磁盘管理"><span class="post-toc-number">10.</span> <span class="post-toc-text">磁盘管理</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#命令执行顺序控制与管道"><span class="post-toc-number">11.</span> <span class="post-toc-text">命令执行顺序控制与管道</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Linux-下软件安装"><span class="post-toc-number">12.</span> <span class="post-toc-text">Linux 下软件安装</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#安装包卸载"><span class="post-toc-number">12.1.</span> <span class="post-toc-text">安装包卸载</span></a></li></ol></li></ol>
        </nav>
    </aside>
    
<article id="post-Linux-Base"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">Linux 基本操作</h1>
        <div class="post-meta">
            <time class="post-time" title="2018-05-30 14:55:03" datetime="2018-05-30T06:55:03.128Z"  itemprop="datePublished">2018-05-30</time>

            


            

        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <h3 id="用过的一些命令"><a href="#用过的一些命令" class="headerlink" title="用过的一些命令"></a>用过的一些命令</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"> 复制时，使用日期名作为文件名</span></div><div class="line">cp direct.log direct.log.$(date +%Y%m%d)</div><div class="line"></div><div class="line"><span class="meta">#</span><span class="bash"> 将后台运行程序的打印记录立即输出到nohup.out文件</span></div><div class="line">nohup python -u spider.py &gt; nohup.out 2&gt;&amp;1 &amp;</div><div class="line"></div><div class="line"><span class="meta">#</span><span class="bash"> 交换空间扩容</span></div><div class="line">dd if=/dev/zero of=/home/swap bs=1024 count=8192000</div><div class="line"></div><div class="line"><span class="meta">#</span><span class="bash"> 获取pid, 杀死进程</span></div><div class="line">cat uwsgi.pid | xargs kill -9</div></pre></td></tr></table></figure>
<h3 id="Linux-用户管理"><a href="#Linux-用户管理" class="headerlink" title="Linux 用户管理"></a>Linux 用户管理</h3><h4 id="查看用户"><a href="#查看用户" class="headerlink" title="查看用户"></a>查看用户</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">who am i</div></pre></td></tr></table></figure>
<h4 id="创建用户"><a href="#创建用户" class="headerlink" title="创建用户"></a>创建用户</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># sudo &lt;cmd&gt; 以特权级别运行cmd命令，需要当前用户属于sudo组且输入当前用户密码</span></div><div class="line"><span class="comment"># adduser创建用户后，创建home目录，然后会提示你创建密码</span></div><div class="line"><span class="comment"># useradd只创建用户，创建完后用passwd lilei去设置密码</span></div><div class="line">sudo adduser lilei  </div><div class="line"></div><div class="line"><span class="comment"># 切换到用户</span></div><div class="line">su lilei  </div><div class="line"></div><div class="line"><span class="comment"># 切换到目录，同时环境变量也会跟着改变成目标用户的环境变量</span></div><div class="line">su - lilei</div></pre></td></tr></table></figure>
<h4 id="用户组"><a href="#用户组" class="headerlink" title="用户组"></a>用户组</h4><p>用户组是一组用户的集合，它们共享一些资源和权限，同时拥有私有资源。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 查看所属用户组 </span></div><div class="line"><span class="comment"># cat /etc/group | grep -E "shiyanlou"</span></div><div class="line">groups lilei</div><div class="line"></div><div class="line"><span class="comment"># 看lilei是否在sudoers用户组</span></div><div class="line">su - lilei</div><div class="line">sudo ls   </div><div class="line"><span class="built_in">logout</span></div><div class="line"></div><div class="line"><span class="comment"># 将用户添加到sudo用户组的方法</span></div><div class="line">$ vim /etc/sudoers</div><div class="line"><span class="comment"># %wheel ALL=(ALL) ALL          # sudo命令，要输密码</span></div><div class="line"><span class="comment"># %wheel ALL=(ALL)NOPASSWD:ALL  # sudo命令，不要输密码</span></div><div class="line">usermod -G wheel es             <span class="comment"># 将es用户添加到wheel用户，就可使用sudo命令</span></div></pre></td></tr></table></figure>
<h4 id="删除用户"><a href="#删除用户" class="headerlink" title="删除用户"></a>删除用户</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">userdel peter</div><div class="line"></div><div class="line">groupdel peter</div></pre></td></tr></table></figure>
<h3 id="Linux-文件权限"><a href="#Linux-文件权限" class="headerlink" title="Linux 文件权限"></a>Linux 文件权限</h3><h4 id="查看文件权限"><a href="#查看文件权限" class="headerlink" title="查看文件权限"></a>查看文件权限</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">ls -l</div><div class="line">总用量 4</div><div class="line">-rw-r--r--. 1 root root 642 4月  17 14:33 regular_express.txt</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>-rw-r–r–</th>
<th>1</th>
<th>root</th>
<th>root</th>
<th>642</th>
<th>4月  17 14:33</th>
<th>*.txt</th>
</tr>
</thead>
<tbody>
<tr>
<td>文件类型和权限</td>
<td>链接数</td>
<td>所有者</td>
<td>用户组</td>
<td>文件大小</td>
<td>最后修改时间</td>
<td>文件名</td>
</tr>
</tbody>
</table>
<p><img src="http://oj8vattcf.bkt.clouddn.com/%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B%E5%92%8C%E6%9D%83%E9%99%90.png" alt="文件类型和权限"></p>
<h4 id="变更文件所有者"><a href="#变更文件所有者" class="headerlink" title="变更文件所有者"></a>变更文件所有者</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">chown &lt;user&gt; &lt;file&gt;</div></pre></td></tr></table></figure>
<h4 id="修改文件权限"><a href="#修改文件权限" class="headerlink" title="修改文件权限"></a>修改文件权限</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 二进制数字表示</span></div><div class="line"><span class="comment"># 仅对拥有着可读可写可执行 rwx = 1*4+1*2+1*1</span></div><div class="line">chmod 700 &lt;file&gt;  </div><div class="line"></div><div class="line"><span class="comment"># 加减赋值操作</span></div><div class="line"><span class="comment"># g代表group, o代表others, u代表user，+-代表加减相应权限</span></div><div class="line">chmod go-rw &lt;file&gt;</div></pre></td></tr></table></figure>
<h3 id="Linux-目录结构"><a href="#Linux-目录结构" class="headerlink" title="Linux 目录结构"></a>Linux 目录结构</h3><ul>
<li>bin：一般用户可用，启动时会用到的命令，即文件系统还没被挂载时，也能使用的命令</li>
<li>boot<ul>
<li>grub：开机设置相关文件</li>
<li>vmlinuz：内核文件</li>
</ul>
</li>
<li>dev：存放设置文件</li>
<li><strong>etc</strong>：包含系统特有的可编辑配置文件，即用于控制程序运行的本地文件</li>
<li>home：用户家目录</li>
<li>lib：用于存放程序的动态库和模块文件</li>
<li>media：用于挂载本地磁盘或其他存储设备，U盘之类的</li>
<li>mnt：用于挂载其他临时文件系统</li>
<li>opt：发行版附加的一些软件包的安装目录</li>
<li>root：root用户的家</li>
<li>sbin：存放root用户才能执行的命令，一些系统进行更新，备份，还原和开机用到的命令</li>
<li>srv：存放服务进程所需的数据文件和一些服务的执行脚本</li>
<li>tmp：存放各种临时文件</li>
<li>usr：用于存储只读用户数据的第二层次，包含绝大多数的用户工具和应用程序<ul>
<li>bin：非必要可执行文件，面向所有用户</li>
<li>include：标准包含头文件</li>
<li>lib：/usr/bin和/usr/sbin/中二进制文件的库</li>
<li>local：本地数据第三层次，具体到本台主机</li>
<li>share：体系结构无关的共享数据</li>
<li>sbin：非必要的系统二进制文件</li>
<li>src：源代码，内核源代码及其头文件</li>
</ul>
</li>
<li>var：变量文件，在正常运行的系统中其内容不断变化的的文件，如日志之类的</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th>可分享的(shareable)</th>
<th>不可分享的(unshareable)</th>
</tr>
</thead>
<tbody>
<tr>
<td>不可变的(static)</td>
<td>/usr, /opt</td>
<td>/etc, /boot</td>
</tr>
<tr>
<td>可变动的(variable)</td>
<td>/var/mail, /var/news</td>
<td>/var/run, /var/lock</td>
</tr>
</tbody>
</table>
<h3 id="Linux-文件的基本操作"><a href="#Linux-文件的基本操作" class="headerlink" title="Linux 文件的基本操作"></a>Linux 文件的基本操作</h3><ul>
<li><p>新建</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 新建文件</span></div><div class="line">touch <span class="built_in">test</span></div><div class="line"></div><div class="line"><span class="comment"># 新建目录</span></div><div class="line">mkdir mydir</div><div class="line">mkdir -p father/son/grandson  <span class="comment"># -p递归创建目录</span></div></pre></td></tr></table></figure>
</li>
<li><p>复制</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 复制文件</span></div><div class="line">cp <span class="built_in">test</span> /father/son/grandson</div><div class="line"></div><div class="line"><span class="comment"># 复制目录</span></div><div class="line">cp -r father family</div></pre></td></tr></table></figure>
</li>
<li><p>删除</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 删除文件</span></div><div class="line">rm -f <span class="built_in">test</span></div><div class="line"></div><div class="line"><span class="comment"># 删除目录</span></div><div class="line">rm -rf family</div></pre></td></tr></table></figure>
</li>
<li><p>移动文件与文件重命名</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 移动文件</span></div><div class="line">mv &lt;file&gt; &lt;document&gt;</div><div class="line"></div><div class="line"><span class="comment"># 重命名</span></div><div class="line">mv &lt;file&gt; &lt;file&gt;</div><div class="line"></div><div class="line"><span class="comment"># 批量重命名</span></div><div class="line">touch file&#123;1..5&#125;.txt  <span class="comment"># 使用通配符批量创建5个文件</span></div><div class="line">rename <span class="string">'s/\.txt\/.c/'</span> *.txt  <span class="comment"># 批量重命名</span></div></pre></td></tr></table></figure>
</li>
<li><p>查看文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 使用cat, tac和nl命令查看文件</span></div><div class="line">cat -n &lt;file&gt;   <span class="comment"># 正序查看，-n加上行号</span></div><div class="line">tac &lt;file&gt;   <span class="comment"># 倒序查看</span></div><div class="line">nl  &lt;file&gt;   <span class="comment"># 添加行号并打印</span></div><div class="line"></div><div class="line"><span class="comment"># 使用more和less命令分页查看文件</span></div><div class="line">more &lt;file&gt;   <span class="comment"># 一直往下看</span></div><div class="line">less &lt;file&gt;   <span class="comment"># 来回看</span></div><div class="line"></div><div class="line"><span class="comment"># 使用head和tail命令查看文件</span></div><div class="line">head -n 5 &lt;file&gt;   <span class="comment"># 指定看头5行</span></div><div class="line">tail -f &lt;file&gt;     <span class="comment"># 动态查看日志</span></div></pre></td></tr></table></figure>
</li>
<li><p>查看文件类型</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">file /bin/ls</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h3><h4 id="变量分类"><a href="#变量分类" class="headerlink" title="变量分类"></a>变量分类</h4><p>按变量的类型划分，Linux变量可分为：</p>
<ul>
<li><p><strong>自定义变量</strong>：当前Shell进程私有用户自定义的变量</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">declare</span> tmp         <span class="comment"># 自定义变量</span></div><div class="line">tmp = xiehailian    <span class="comment"># 赋值</span></div><div class="line"><span class="built_in">echo</span> <span class="variable">$tmp</span>		   <span class="comment"># 打印变量</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>内建变量</strong>：Shell本身内建的变量</p>
</li>
<li><p><strong>环境变量</strong>：从自定义变量导出的环境变量</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 显示当前 Shell 所有变量，包括其内建环境变量（与 Shell 外观等相关），用户自定义变量及导出的环境变量</span></div><div class="line"><span class="built_in">set</span></div><div class="line"></div><div class="line"><span class="comment"># 显示与当前用户相关的环境变量，还可以让命令在指定环境中运行</span></div><div class="line">env</div><div class="line"></div><div class="line"><span class="comment"># 显示从Shell中导出成环境变量的变量，也能通过它将自定义变量导出为环境变量</span></div><div class="line"><span class="built_in">export</span></div></pre></td></tr></table></figure>
<p>按照变量的生存周期来划分，Linux变量可分为：</p>
<ul>
<li>永久的变量：需要修改配置文件，变量永久生效</li>
<li>临时的变量：使用<code>export</code>命令声明即可，变量在关闭shell时失效</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 只针对bash初始化</span></div><div class="line">vim /etc/bashrc   <span class="comment"># 存放的是环境变量，永久生效</span></div><div class="line">vim ~/.bashrc     <span class="comment"># 只对当前用户永久生效</span></div><div class="line"></div><div class="line"><span class="comment"># 统一初始化的地方</span></div><div class="line">vim /etc/profile  <span class="comment"># 存放的是环境变量, 永久生效</span></div><div class="line">vim ~/.profile    <span class="comment"># 只对当前用户永久生效</span></div></pre></td></tr></table></figure>
<h4 id="环境变量操作"><a href="#环境变量操作" class="headerlink" title="环境变量操作"></a>环境变量操作</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 命令的查找路径与顺序</span></div><div class="line"><span class="comment"># 当在Shell中执行一个命令时，系统会按照PATH中设定的路径按照顺序依次到目录中去查找，如果存在同名的命令，则执行先找到的那个</span></div><div class="line"><span class="built_in">echo</span> <span class="variable">$PATH</span></div><div class="line">/root/anaconda3/bin:/usr/<span class="built_in">local</span>/jdk/bin:/usr/<span class="built_in">local</span>/apache-maven/bin:/usr/<span class="built_in">local</span>/jdk/bin:/usr/<span class="built_in">local</span>/mongodb/bin:/home/hadoop/anaconda3/bin:/usr/<span class="built_in">local</span>/sbin:/usr/<span class="built_in">local</span>/bin:/usr/sbin:/usr/bin:/usr/<span class="built_in">local</span>/scala/bin:/usr/<span class="built_in">local</span>/hadoop/hadoop/bin:/usr/<span class="built_in">local</span>/hadoop/hadoop/sbin:/usr/<span class="built_in">local</span>/hadoop/spark/bin:/root/bin</div><div class="line"></div><div class="line"><span class="comment"># 添加自定义路径到PATH环境变量</span></div><div class="line"><span class="built_in">echo</span> <span class="string">"PATH=<span class="variable">$PATH</span>:/home/shiyanlou/mybin"</span> &gt;&gt; .bashrc</div><div class="line"></div><div class="line"><span class="comment"># 修改和删除已有变量</span></div><div class="line">path=<span class="variable">$&#123;path%/home/shiyanlou/mybin&#125;</span>   <span class="comment"># 从后删除匹配字符串</span></div><div class="line"><span class="built_in">unset</span> path    <span class="comment"># 删除一个变量</span></div><div class="line"></div><div class="line"><span class="comment"># 让环境变量立即生效</span></div><div class="line"><span class="built_in">source</span> .profile</div></pre></td></tr></table></figure>
<h3 id="搜索文件"><a href="#搜索文件" class="headerlink" title="搜索文件"></a>搜索文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 将目前目录及其子目录下所有延伸档名是 c 的文件列出来</span></div><div class="line">find . -name <span class="string">"*.c"</span></div><div class="line"></div><div class="line"><span class="comment"># 将当前目录下子目录中所有一般文件列出</span></div><div class="line">find . -<span class="built_in">type</span> f</div><div class="line"></div><div class="line"><span class="comment"># 将目前目录及其子目录下所有最近 20 天内更新过的文件列出</span></div><div class="line">find . -ctime -20</div><div class="line"></div><div class="line"><span class="comment"># 查找/var/logs目录中更改时间在7日以前的普通文件，并在删除之前询问它们</span></div><div class="line">find /var/logs -<span class="built_in">type</span> f -mtime +7 -ok rm &#123;&#125; \;</div><div class="line"></div><div class="line"><span class="comment"># 查找前目录中文件属主具有读、写权限，并且文件所属组的用户和其他用户具有读权限的文件</span></div><div class="line">find . -<span class="built_in">type</span> f -perm 644 -<span class="built_in">exec</span> ls -l &#123;&#125; \;</div><div class="line"></div><div class="line"><span class="comment"># 为了查找系统中所有文件长度为0的普通文件，并列出它们的完整路径</span></div><div class="line">find / -<span class="built_in">type</span> f -size 0 -<span class="built_in">exec</span> ls -l &#123;&#125; \;</div><div class="line"></div><div class="line"><span class="comment"># 查找/var/logs目录中更改时间在7日以前的普通文件，并在删除之前询问它们</span></div><div class="line">find /var/logs -<span class="built_in">type</span> f -mtime +7 -ok rm &#123;&#125; \;</div></pre></td></tr></table></figure>
<h3 id="文件打包与解压缩"><a href="#文件打包与解压缩" class="headerlink" title="文件打包与解压缩"></a>文件打包与解压缩</h3><ul>
<li><p>使用<code>zip</code>打包，使用<code>unzip</code>解压</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 使用zip打包文件夹</span></div><div class="line"><span class="comment"># -r参数表示递归打包，-q表示安静模式不向屏幕输出信息，-o表示输出文件紧跟文件名</span></div><div class="line">zip -r -q -o superpub.zip ./superpub</div><div class="line"></div><div class="line"><span class="comment"># 设置压缩级别为9和1，重新打包，1表示最快压缩体积大，9表示体积小耗时久</span></div><div class="line">zip -r -9 -q -o shiyanlou_9.zip /home/shiyanlou -x ~/*.zip</div><div class="line"></div><div class="line"><span class="comment"># 创建加密zip包，使用-e参数</span></div><div class="line">zip -r -e -o shiyanlou_encryption.zip /home/shiyanlou</div><div class="line"></div><div class="line"><span class="comment"># 使用安静模式，将文将解压到指定目录</span></div><div class="line">unzip -q shiyanlou.zip -d ziptest</div></pre></td></tr></table></figure>
</li>
<li><p>使用<code>tar</code>打包和解压</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 打一个tar包，-c表示打包，-f指定文件名</span></div><div class="line">tar -cf shiyanlou.tar shiyanlou</div><div class="line"></div><div class="line"><span class="comment"># 解压一个tar包，-x表示解包，-C表示指定路径</span></div><div class="line">tar -xf shiyanlou.tar -C /home</div><div class="line"></div><div class="line"><span class="comment"># -t表示只查看不解包文件</span></div><div class="line">tar -tf shiyanlou.tar</div><div class="line"></div><div class="line"><span class="comment"># -z表示使用gzip来压缩文件</span></div><div class="line">tar -czf shiyanlou.tar.gz shiyanlou</div><div class="line"></div><div class="line"><span class="comment"># 解压.tar.gz文件</span></div><div class="line">tar -xzf shiyanlou.tar.gz</div></pre></td></tr></table></figure>
</li>
<li><p>分割合并压缩包</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">split -b 500M ask_20180515.json.tar.gz -d -a 3 ask</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="文件系统操作"><a href="#文件系统操作" class="headerlink" title="文件系统操作"></a>文件系统操作</h3><h4 id="使用df命令查看磁盘的容量"><a href="#使用df命令查看磁盘的容量" class="headerlink" title="使用df命令查看磁盘的容量"></a>使用df命令查看磁盘的容量</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">$ df -h</div><div class="line">Filesystem      Size  Used Avail Use% Mounted on</div><div class="line">/dev/vda1        40G   14G   24G  36% /                  <span class="comment"># 主机硬盘分区</span></div><div class="line">devtmpfs        7.8G     0  7.8G   0% /dev</div><div class="line">tmpfs           7.8G     0  7.8G   0% /dev/shm</div><div class="line">tmpfs           7.8G  508K  7.8G   1% /run</div><div class="line">tmpfs           7.8G     0  7.8G   0% /sys/fs/cgroup</div><div class="line">/dev/vdb1       493G   42G  426G   9% /mnt               <span class="comment"># 主机硬盘分区</span></div><div class="line">tmpfs           1.6G     0  1.6G   0% /run/user/0</div><div class="line"></div><div class="line"><span class="comment"># 查看目录挂载点</span></div><div class="line">$ df /opt -vh</div><div class="line">文件系统                 容量  已用  可用 已用% 挂载点</div><div class="line">/dev/mapper/centos-root   50G  1.7G   49G    4% /</div></pre></td></tr></table></figure>
<h4 id="使用du命令查看目录的容量"><a href="#使用du命令查看目录的容量" class="headerlink" title="使用du命令查看目录的容量"></a>使用du命令查看目录的容量</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 显示所有文件及目录大小</span></div><div class="line">du                   </div><div class="line"></div><div class="line"><span class="comment"># -h表示人类易读方式</span></div><div class="line">du -h                </div><div class="line"></div><div class="line"><span class="comment"># -d指定参看目录的深度，只查看1级目录</span></div><div class="line">du -h -d 0           </div><div class="line"></div><div class="line"><span class="comment"># 查看2级目录</span></div><div class="line">du -h -d 1           </div><div class="line"></div><div class="line"><span class="comment"># 显示目录中所有文件大小</span></div><div class="line">du -a               </div><div class="line"></div><div class="line"><span class="comment"># 仅显示最后加总的值</span></div><div class="line">du -s</div></pre></td></tr></table></figure>
<h3 id="磁盘管理"><a href="#磁盘管理" class="headerlink" title="磁盘管理"></a>磁盘管理</h3><h3 id="命令执行顺序控制与管道"><a href="#命令执行顺序控制与管道" class="headerlink" title="命令执行顺序控制与管道"></a>命令执行顺序控制与管道</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 以下两个命令的结果是不同的</span></div><div class="line">cat -n regular_express.txt | grep <span class="string">'^#</span></div><div class="line"><span class="string">cat  regular_express.txt | grep  -n '</span>^<span class="comment">#'</span></div></pre></td></tr></table></figure>
<h3 id="Linux-下软件安装"><a href="#Linux-下软件安装" class="headerlink" title="Linux 下软件安装"></a>Linux 下软件安装</h3><p>通常 Linux 上的软件安装主要有四种方式：</p>
<ul>
<li>在线安装</li>
<li>从磁盘安装deb软件包</li>
<li>从二进制软件包安装</li>
<li>从源代码编译安装</li>
</ul>
<h4 id="安装包卸载"><a href="#安装包卸载" class="headerlink" title="安装包卸载"></a>安装包卸载</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">rpm -qa | grep mysql</div><div class="line">rpm -e  mysql80-community-release-el7-1.noarch</div></pre></td></tr></table></figure>
<p>### </p>

        </div>

        <blockquote class="post-copyright">
    <div class="content">
        
<span class="post-time">
    最后更新时间：<time datetime="2018-06-20T00:26:56.000Z" itemprop="dateUpdated">2018-06-20 08:26:56</time>
</span><br>


        
    </div>
    <footer>
        <a href="http://printxhl.com">
            <img src="/img/avatar.jpg" alt="谢海练">
            谢海练
        </a>
    </footer>
</blockquote>

        


        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/">linux</a></li></ul>


            


        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2018/05/30/DB-Redis/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">Redis 部署</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/2018/05/30/Linux-Docker/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">Docker</h4>
      </a>
    </div>
  
</nav>



    














</article>



</div>

        <!-- <footer class="footer">
    <div class="top">
        

        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>footer.license</span>
        </p>
    </div>
    <div class="bottom">
        <p><span>谢海练 &copy; 2017 - 2018</span>
            <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer> -->

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>


    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: false, REWARD: false };


</script>

<script src="/js/main.min.js?v=1.6.13"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="/js/search.min.js?v=1.6.13" async></script>



<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>

<script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" async></script>








</body>
</html>
